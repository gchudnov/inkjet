import { arrayLikeRgbToRgba } from '../src/lib/util/color';

describe('Color', () => {

  it('can convert array from RGB to RGBA', (done) => {
    // NOTE: array encodes the image: 3x2
    const inputArr = [0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x12];
    const input = new Uint8Array(inputArr)

    const actual = arrayLikeRgbToRgba(input)

    const expectedArr = [0x01, 0x02, 0x03, 0xFF, 0x04, 0x05, 0x06, 0xFF, 0x07, 0x08, 0x09, 0xFF, 0x0A, 0x0B, 0x0C, 0xFF, 0x0D, 0x0E, 0x0F, 0xFF, 0x10, 0x11, 0x12, 0xFF];
    const expected = new Uint8Array(expectedArr);

    (actual.length).should.be.eql(expected.length);
    (actual).should.be.eql(expected);

    done();
  });

}).timeout(60000);
